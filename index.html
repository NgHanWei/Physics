<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Physics MCQ by Dr. Han Wei</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: #f4f4f4;
            color: #333;
            padding: 20px;
        }
        .topic-container {
            text-align: left;
            display: inline-block;
            margin-bottom: 20px;
        }
        .start-btn {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 15px;
            font-size: 16px;
            cursor: pointer;
            border-radius: 5px;
            transition: 0.3s;
            margin-top: 10px;
        }
        .start-btn:hover {
            background: #0056b3;
        }
    </style>
</head>
<body>
    <h1>Physics MCQ by Dr. Han Wei</h1>
    <div class="topic-container" id="topics-container"></div>
    <br>
    <button class="start-btn" onclick="startMultiTopicQuiz()">Start Multi-Topic Quiz</button>
    
    <script>
        const topics = ["Measurements", "Circular Motion", "WEP", "G-Field", "Superposition", "E-Field"];
        const correctAnswers = {
            "Measurements": {"q1": "D", "q2": "B", "q3": "B", "q4": "D", "q5": "B"},
            "Circular Motion": {"q1": "B", "q2": "D", "q3": "A", "q4": "C", "q5": "B"},
            "WEP": {"q1": "B", "q2": "D", "q3": "A", "q4": "C", "q5": "B"},
            "Superposition": {"q1": "C", "q2": "C", "q3": "C", "q4": "B", "q5": "D"},
            "G-Field": {"q1": "B", "q2": "D", "q3": "C", "q4": "A", "q5": "A"},
            "E-Field": {"q1": "D", "q2": "B", "q3": "A", "q4": "A", "q5": "B"}
        };

        window.onload = function() {
            const container = document.getElementById("topics-container");
            topics.forEach(topic => {
                let label = document.createElement("label");
                let checkbox = document.createElement("input");
                checkbox.type = "checkbox";
                checkbox.value = topic;
                label.appendChild(checkbox);
                label.appendChild(document.createTextNode(" " + topic));
                container.appendChild(label);
                container.appendChild(document.createElement("br"));
            });
        };

        function startMultiTopicQuiz() {
            let selectedTopics = [];
            document.querySelectorAll("input[type='checkbox']:checked").forEach(checkbox => {
                selectedTopics.push(checkbox.value);
            });

            if (selectedTopics.length === 0) return;
            
            let selectedQuestions = [];
            selectedTopics.forEach(topic => {
                let questions = Object.keys(correctAnswers[topic]);
                questions.sort(() => Math.random() - 0.5);
                selectedQuestions.push(...questions.slice(0, 3).map(q => ({ topic, question: q })));
            });
            
            let queryString = encodeURIComponent(JSON.stringify(selectedQuestions));
            window.open("quiz.html?data=" + queryString, "_blank");
        }
    </script>
</body>
</html>
